(()=>{var e={5950:(e,t,s)=>{const a=s(7489),i=s(9344),r=s(7096),{tokenSecretKey:n}=s(341),{isValidRequestBody:d,isValid:u,isvalidEmail:o,isValidPassword:l}=s(5484);e.exports={createAdmin:async function(e,t){try{let s=e.body;if(!d(s))return t.status(400).send({status:!1,message:"Please enter data in body"});let{name:i,email:n,password:g}=s;if(!u(i))return t.status(400).send({status:!1,message:"Provide the proper name "});if(await a.findOne({name:i}))return t.status(400).send({status:!1,message:"Admin is already created"});if(!u(n))return t.status(400).send({status:!1,message:"Email-ID is required"});if(!o(n))return t.status(400).send({status:!1,message:"Invalid Email id. Ex: example12@gmail.com"});if(await a.findOne({email:n}))return t.status(400).send({status:!1,message:"This email is already exists"});if(!u(g))return t.status(400).send({status:!1,message:"password is required"});if(g.length<8||g.length>15)return t.status(400).send({status:!1,message:"Password must in between 12 to 25 characters"});if(!l(g))return t.status(400).send({status:!1,message:"Password must include atleast one special character[@$!%?&], one uppercase, one \n        lowercase, one number and should be mimimum 8 to 15 characters long for Example:Password@123"});g=await r.hash(g,10);const m={name:i,email:n,password:g,role:"ADMIN"};let c=await a.create(m);return t.status(201).send({status:!0,message:"Admin created successfully",data:c})}catch(e){return t.status(500).send({status:!1,message:e.message})}},loginAdmin:async function(e,t){try{let s=e.body;const{email:l,password:g}=s;if(!d(s))return t.status(400).send({status:!1,message:"Body Should not be empty"});if(!u(l))return t.status(400).send({status:!1,message:"email should not be empty"});if(!o(l))return t.status(400).send({status:!1,message:"Please enter valid email"});if(!u(g))return t.status(400).send({status:!1,message:"Password should not be empty"});let m=await a.findOne({email:l});if(!m)return t.status(401).send({status:!1,message:"Please use valid credentials"});r.compare(g,m.password,(function(e,s){!function(e){if(e){let e=i.sign({adminId:m._id.toString(),Assignment:"turtltechbackend",Author:"nirajkumar"},n,{expiresIn:"24h"});return t.setHeader("Authorization","Bearer",e),t.status(201).send({status:!0,message:"Successfully loggedin",adminId:m._id,data:e})}t.status(401).send({status:!1,message:"login denied "})}(s)}))}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},7891:(e,t,s)=>{const a=s(8207),{upload:i,imageMV:r}=(s(7489),s(2013),s(3034),s(6231),s(1017),s(6087)),{isValid:n,isValidObjectId:d,isValidRequestBody:u,isValidImg:o}=s(5484);e.exports={createBlog:async(e,t)=>{try{let s=e.body,{blogTitle:i,tags:r,description:d,sections:u,coverImgUrl:o,coverImgAlt:l}=s;if(!n(i))return t.status(400).send({status:!1,message:"Blog title is required"});if(!n(d))return t.status(400).send({status:!1,message:"Description is required"});let g={blogTitle:i,tags:r,description:d};g.tags=r.split("#").filter((e=>e.length>0&&e.trim()));let m=Math.random().toString(36).slice(2,8);g.blogUID=m,g.isPublished=!0,g.publishedAt=new Date;let c=[];for(let e of JSON.parse(u))c.push({content:e});let p={imageUrl:o,altText:l||"turtltech.com"};g.coverImg=p,g.sections=c,g.seoData=JSON.parse(s.seoData);let y=await a.create(g);return t.status(201).send({status:!0,message:"Blog created successfully",data:y})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getBlogs:async(e,t)=>{try{let e=await a.find({isPublished:!0}).sort({createdAt:"desc"});return e?t.status(200).send({status:!0,blogs:e}):t.status(404).send({status:!1,message:"No blog found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getBlogById:async(e,t)=>{try{let s=e.params.blogId;if(!d(s))return t.status(400).send({status:!1,message:"Invalid blog id, please enter a valid blog id in params"});let i=await a.findById(s);return i?t.status(200).send({status:!0,blog:i}):t.status(404).send({status:!1,message:"Blog not found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},updateBlogById:async(e,t)=>{try{let s=e.params.blogId;if(!d(s))return t.status(400).send({status:!1,message:"Invalid blog id, please enter a valid blog id in params"});let i=await a.findById(s);if(!i)return t.status(404).send({status:!1,message:"Blog not found"});let n=e.body,u=e.files;if("blogTitle"in n&&""!==n.blogTitle&&(i.blogTitle=n.blogTitle),"description"in n&&""!==n.description&&(i.description=n.description),"sections"in n&&""!==n.sections&&(i.sections=n.sections),u&&u.length>0){if(!o(u[0].mimetype))return t.status(400).send({status:!1,message:"Image Should be of JPEG/ JPG/ PNG"});let e=await r(u.coverImg,"blogImages");data.coverImg=e}return"quote"in n&&""!==n.quote&&(i.quote=n.quote),"blogFooter"in n&&""!==n.blogFooter&&(i.blogFooter=n.blogFooter),"tags"in n&&""!==n.blogImage&&(i.tags=n.tags),await i.save(),t.status(200).send({status:!0,message:"Blog updated successfully",updateData:i})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getBlogByParams:async(e,t)=>{try{let s=e.params.slug,i=await a.findOne({slug:s});return i?(i.blogViews=i.blogViews+1,await i.save(),t.status(200).send({status:!0,blog:i})):t.status(404).send({status:!1,message:"Blog not found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},deleteBlogById:async(e,t)=>{try{let s=e.params.blogId;return d(s)?await a.findById(s)?await a.deleteOne({_id:s,isPublished:!0})?t.status(200).send({status:!0,message:"Blog deleted successfully"}):t.status(404).send({status:!1,message:"Blog not found or already deleted"}):t.status(404).send({status:!1,message:"No blog found with this blog id"}):t.status(400).send({status:!1,message:"Invalid blog id, please enter a valid blog id"})}catch(e){return t.status(400).send({status:!1,message:e.message})}}}},5883:(e,t,s)=>{const a=s(5169),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addCertificate:async(e,t)=>{try{let s=e.body,i=[];if("string"==typeof s.certificate)i.push(JSON.parse(s.certificate));else for(let e=0;e<s.certificate.length;e++)i.push(JSON.parse(s.certificate[e]));for(let e=0;e<i.length;e++)await a.create(i[e]);return t.status(201).send({status:!0,message:"Certificate added successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllCertificates:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No certificate found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},6954:(e,t,s)=>{var a=s(5184).createTransport({service:"Gmail",auth:{user:"sandeep.sid.kumar10@gmail.com",pass:"gosmciadfnayqjfn"}});e.exports={addContactUsDetails:async(e,t)=>{try{let i=e.body,{name:r,email:n,subject:d,text:u}=i,o="<h2 style='padding:0px; margin:0px'>Name: <strong style='color:blue;'>"+r+"</strong></h2> <p style='padding:0px; margin:0px; margin-top:10px;'>Email: "+n+"</p>  <p style='border:1px solid #d4fff8; max-width:800px; padding:10px'>"+u+" </p>";var s={from:`TurtlTech.com <${i.email}>`,to:"n1r4jkumar@gmail.com",subject:i.subject,html:o};a.sendMail(s,(function(e,s){return e?t.status(400).send({status:!1,message:"An error occurred while sending the email."}):t.status(201).send({status:!0,message:"Email sent successfully!"})}))}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},4468:(e,t,s)=>{const a=s(7848),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addEvent:async(e,t)=>{try{let s=e.body,{title:i,images:r,story:n}=s;return await a.create({title:i,images:r,story:n}),t.status(201).send({status:!0,message:"Event added successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllEvents:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No event found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},6757:(e,t,s)=>{const{initializeApp:a}=s(4324),{getStorage:i,ref:r,getDownloadURL:n,uploadBytesResumable:d}=s(1668);a(s(6752).firebaseConfig);const u=i();e.exports={uploadImage:async e=>{const t=(()=>{const e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()})(),s=r(u,"files/"+t.toString().replace(" ","_")+"_"+e.name.replace(" ","_")),a={contentType:e.mimetype},i=await d(s,e.data,a),o=await n(i.ref);return{message:"file uploaded to firebase storage",name:i.metadata.name,type:e.mimetype,imageURL:o}}}},8913:(e,t,s)=>{const a=s(8686),{uploadImage:i}=s(6757),{isValid:r,isValidName:n,isValidRequestBody:d,isValidObjectId:u}=s(5484);e.exports={uploadImagefn:async(e,t)=>{try{let{imgField:s}=e.body,{images:r}=e.files,n={imageUrl:(await i(r)).imageURL,imgField:s},d=await a.create(n);return t.status(201).send({status:!0,message:"Image added",data:d})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllImages:async(e,t)=>{try{let e=await a.find().sort({createdAt:-1});return 0===e.length?t.status(404).send({status:!1,message:"No image found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},7302:(e,t,s)=>{const a=s(3034),i=s(8207),r=s(2182),{isValid:n,isValidObjectId:d,isValidRequestBody:u}=s(5484);e.exports={addBlogLikesById:async(e,t)=>{try{let s=e.body,{blogId:u,visitorId:o,like:l,love:g,haha:m,wow:c,angry:p,fire:y}=s;if(!n(u))return t.status(400).send({status:!1,message:"Blog id is required"});if(!d(u))return t.status(400).send({status:!1,message:"Invalid blog id, please enter a valid blog id"});if(!n(o))return t.status(400).send({status:!1,message:"Visitor id is required"});if(!d(o))return t.status(400).send({status:!1,message:"Invalid visitor id, please enter a valid visitor id"});if(!await i.findOne({_id:u}))return t.status(404).send({status:!1,message:"No blog found with this blog id"});if(!await r.findOne({_id:o}))return t.status(404).send({status:!1,message:"No visitor found with this visitor id"});let f=await a.findOne({blogId:u,visitorId:o});if(f)return"like"in s?(f.like=f.like+1,f.love=0,f.haha=0,f.wow=0,f.angry=0,f.fire=0,f.like>1?(f.like=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"Like added",data:f}))):"love"in s?(f.love=f.love+1,f.like=0,f.haha=0,f.wow=0,f.angry=0,f.fire=0,f.love>1?(f.love=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"love added",data:f}))):"haha"in s?(f.haha=f.haha+1,f.love=0,f.like=0,f.wow=0,f.angry=0,f.fire=0,f.haha>1?(f.haha=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"haha added",data:f}))):"wow"in s?(f.wow=f.wow+1,f.love=0,f.haha=0,f.like=0,f.angry=0,f.fire=0,f.wow>1?(f.wow=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"wow added",data:f}))):"angry"in s?(f.angry=f.angry+1,f.love=0,f.haha=0,f.wow=0,f.like=0,f.fire=0,f.angry>1?(f.angry=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"angry added",data:f}))):"fire"in s?(f.fire=f.fire+1,f.love=0,f.haha=0,f.wow=0,f.angry=0,f.like=0,f.fire>1?(f.fire=0,await a.deleteOne({blogId:u,visitorId:o}),t.status(200).send({status:!0,message:"Like deleted from database"})):(await f.save(),t.status(201).send({status:!0,message:"fire added",data:f}))):t.status(400).send({status:!1,data:f});{let e=await a.create(s);return t.status(201).send({status:!0,message:"Likes added",data:e})}}catch(e){return t.status(500).send({status:!1,message:e.message})}},incBlogLikesById:async(e,t)=>{try{let s=e.params.id;if(!d(s))return t.status(400).send({status:!1,message:"Invalid blog id, please enter a valid blog id"});let i=e.params.id;if(!d(i))return t.status(400).send({status:!1,message:"Invalid visitor id, please enter a valid visitor id"});let r=e.body;if(!u(r))return t.status(400).send({status:!1,message:"Please enter data in request body"});let n=await a.findOne({blogId:s});return"like"in r&&(n.like=n.like+1),"love"in r&&(n.love=n.love+1),"haha"in r&&(n.haha=n.haha+1),"wow"in r&&(n.wow=n.wow+1),"angry"in r&&(n.angry=n.angry+1),"fire"in r&&(n.fire=n.fire+1),await n.save(),t.status(200).send({status:!0,message:"Likes updated",data:n})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllLikes:async(e,t)=>{try{let s=e.params.id,i=await a.find({blogId:s});return 0===i.length?t.status(404).send({status:!1,message:"No likes found"}):t.status(200).send({status:!0,likes:i.length})}catch(e){return t.status(500).send({status:!1,message:e.message})}},addBlogLikes:async(e,t)=>{try{let s=e.body,{blogId:i,like:r,love:n,haha:d,wow:u,angry:o,fire:l}=s,g=await a.findOne({blogId:i,visitorId});if(g.like)return"like"in s?(g.like=g.like+1,g.like>1&&(g.like=0),await g.save(),t.status(201).send({status:!0,message:"Like added",data:g})):"dislike"in s?(g.like>0?g.like=g.like-1:g.like=0,g.dislike=g.dislike+1,await g.save(),t.status(201).send({status:!0,message:"Dislike added",data:g})):"love"in s?(g.love=g.love+1,g.love>1&&(g.love=0),await g.save(),t.status(201).send({status:!0,message:"love added",data:g})):"haha"in s?(g.haha=g.haha+1,g.haha>1&&(g.haha=0),await g.save(),t.status(201).send({status:!0,message:"haha added",data:g})):"wow"in s?(g.wow=g.wow+1,g.wow>1&&(g.wow=0),await g.save(),t.status(201).send({status:!0,message:"wow added",data:g})):"angry"in s?(g.angry=g.angry+1,g.angry>1&&(g.angry=0),await g.save(),t.status(201).send({status:!0,message:"angry added",data:g})):"fire"in s?(g.fire=g.fire+1,g.fire>1&&(g.fire=0),await g.save(),t.status(201).send({status:!0,message:"fire added",data:g})):t.status(400).send({status:!1,data:g});{g.like=1;let e=await a.create(s);return t.status(201).send({status:!0,message:"Likes added",data:e})}}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},330:(e,t,s)=>{const a=s(572);e.exports={addPageImages:async(e,t)=>{try{let s=e.body,{pageName:i,imageUrl:r,altText:n}=s,d=await a.findOne({pageName:i});return d?(d.imageUrl=r,d.altText=n,await d.save(),t.status(200).send({status:!0,message:"Page image updated"})):(await a.create(s),t.status(201).send({status:!0,message:"Page images added"}))}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllPageImages:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No page image found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getImageByPageName:async(e,t)=>{try{let s=e.params.pageName,i=await a.findOne({pageName:s});return s?t.status(200).send({status:!0,data:i}):t.status(404).send({status:!1,message:"No page image found with this page name"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},9519:(e,t,s)=>{const a=s(6860),i=s(813);i.configure({mode:"sandbox",client_id:"####your-client-id######",client_secret:"####your-client-secret#####"}),a(),e.exports={addPayment:async(e,t)=>{try{const e={intent:"sale",payer:{payment_method:"paypal"},redirect_urls:{return_url:"http://localhost:3003/success",cancel_url:"http://localhost:3003/cancel"},transactions:[{item_list:{items:[{name:"service name",sku:"001",price:"50000.00",currency:"INR",quantity:1}]},amount:{currency:"INR",total:"50000.00"},description:"service description"}]};i.payment.create(e,(function(e,s){if(e)throw e;for(let e=0;e<s.links.length;e++)if("approval_url"===s.links[e].rel)return t.status(200).redirect(s.links[e].href)}))}catch(e){return t.status(500).send({status:!1,message:e.message})}},getPayment:async(e,t)=>{try{const s=e.params.PayerID,a=e.params.paymentId,r={payer_id:s,transactions:[{amount:{currency:"INR",total:"675.00"}}]};i.payment.execute(a,r,(function(e,s){if(e)throw e;return t.status(200).send({status:!0,message:"Success"})}))}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},9828:(e,t,s)=>{const a=s(7107),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484),{imageMV:u}=s(6087);e.exports={addPortfolio:async(e,t)=>{try{let s=e.body,{coverImgUrl:i,coverImgAlt:r,title:n,description:d,content:u,tags:o,portfolioField:l}=s,g=JSON.parse(l);if(!g.field)return t.status(400).send({status:!1,message:"Portfolio field is required"});let m={description:d,portfolioField:l},c=Math.random().toString(36).slice(2,8);m.title=n,m.portfolioUID=c,m.content=JSON.parse(u),m.tags=o.split("#").filter((e=>e.length>0&&e.trim()));let p={coverImgUrl:i,coverImgAlt:r||"turtltech.com"};return m.coverImage=p,m.seoData=JSON.parse(s.seoData),m.portfolioField=g.field,m.categoryTitle=g.categoryName,await a.create(m),t.status(201).send({status:!0,message:"Portfolio added successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllPortfoios:async(e,t)=>{try{let e=await a.find();return t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getPortfolioByParams:async(e,t)=>{try{let s=e.params.slug,i=await a.findOne({slug:s});return i?(i.portfolioViews=i.portfolioViews+1,await i.save(),t.status(200).send({status:!0,data:i})):t.status(404).send({status:!1,message:"Portfolio not found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getPortfolioByField:async(e,t)=>{try{let s=e.params.field,i=await a.find({portfolioField:s});return i?t.status(200).send({status:!0,data:i}):t.status(404).send({status:!1,message:"Portfolio not found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},864:(e,t,s)=>{const a=s(8106),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addServiceCategory:async(e,t)=>{try{let s=e.body,{title:i,iconUrl:r,iconAlt:n,description:d,content:u,tags:o}=s;if(await a.findOne({title:i}))return t.status(400).send({status:!1,message:"This category is already exists, please enter another category"});let l={title:i,description:d};l.tags=o.split("#").filter((e=>e.length>0&&e.trim()));let g={iconUrl:r,iconAlt:n||"turtltech.com"};return l.categoryIcon=g,l.seoData=JSON.parse(s.seoData),l.content=JSON.parse(u),await a.create(l),t.status(201).send({status:!0,message:"Service category added successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllServiceCategories:async(e,t)=>{try{let e=await a.find();return t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getServiceCategorBySlug:async(e,t)=>{try{let s=e.params.slug,i=await a.findOne({slug:s});return i?t.status(200).send({status:!0,data:i}):t.status(404).send({status:!1,message:"This service category not found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},1125:(e,t,s)=>{const a=s(5657),{imageMV:i}=(s(2013),s(7489),s(6087)),{isValid:r,isValidObjectId:n,isValidRequestBody:d}=s(5484);e.exports={addService:async(e,t)=>{try{let s=e.body,r=e.files;if(!d(s))return t.status(400).send({status:!1,message:"Please enter data in body"});let{title:n,description:u,imgUrl:o}=s,l={title:n,description:u,imgUrl:o};l.imgUrl=await i(r.imgUrl,"serviceImages");let g=await a.create(l);return t.status(201).send({status:!0,message:"Service section added",data:g})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllServices:async(e,t)=>{try{let e=await a.find();return e.length?t.status(200).send({status:!0,services:e}):t.status(404).send({status:!1,message:"No service found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},updateServiceSection:async(e,t)=>{try{let s=e.params.serviceId;if(!n(secId))return t.status(400).send({status:!1,message:"Invalid section Id"});let i=await a.findById(s);if(!i)return t.status(404).send({status:!1,message:"No section found with this id"});let r=e.body,{title:d,description:u,imgUrl:o}=(e.files,r);return"title"in r&&(i.title=d),"description"in r&&(i.description=u),await i.save(),t.status(200).send({status:!0,message:"Section updated",data:i})}catch(e){return t.status(500).send({status:!1,message:e.message})}},deleteServiceSection:async(e,t)=>{try{let s=e.params.secId;return n(s)?await a.deleteOne({_id:s})?t.status(200).send({status:!0,message:"Service section deleted successfully"}):t.status(404).send({status:!1,message:"Section not found or already deleted"}):t.status(400).send({status:!1,message:"Invalid section id, please enter a valid section id"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},UpdateSectionById:async function(e,t){try{let s=e.params.secId;if(!n(s))return t.status(400).send({status:!1,message:"Invalid section id, please enter a valid section id"});let a=e.body;return t.status(200).send({status:!0,message:"Section updated successfully",data:a})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},826:(e,t,s)=>{const a=s(9607),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addTestimonial:async(e,t)=>{try{let s=e.body,i=[];if("string"==typeof s.testimonials)i.push(JSON.parse(s.testimonials));else for(let e=0;e<s.testimonials.length;e++)i.push(JSON.parse(s.testimonials[e]));for(let e=0;e<i.length;e++)await a.create(i[e]);return t.status(201).send({status:!0,message:"Testimonial added successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllTestimonials:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No testimonial found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},5837:(e,t,s)=>{const a=s(4857),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addFAQ:async(e,t)=>{try{let s=e.body,{category:i,question:r,answer:n}=s,d={category:i,question:r,answer:n};return await a.create(d),t.status(201).send({status:!0,message:"FAQ section added"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllFAQs:async(e,t)=>{try{let e=await a.find();return t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}},updateFAQById:async(e,t)=>{try{let s=e.params.faqId;if(!r(s))return t.status(400).send({status:!1,message:"Invalid faqId, please enter a valid faqId"});let i=await a.findById(s);if(!i)return t.status(404).send({status:!1,message:"No FAQ found with this id"});let n=e.body;return"category"in n&&(i.category=n.category),"question"in n&&(i.question=n.question),"answer"in n&&(i.answer=n.answer),await i.save(),t.status(200).send({status:!0,message:"FAQ updated successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},7444:(e,t,s)=>{const a=s(9846),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addTurtlInfo:async(e,t)=>{try{let s=e.body,{serviceEmail:i,address:r,contactNumber:n,socialMediaLinks:d,googleMap:u}=s,o=[];if(void 0!==d)if("string"==typeof d)o.push(JSON.parse(d));else for(let e=0;e<d.length;e++)o.push(JSON.parse(d[e]));let l={serviceEmail:i,address:r,contactNumber:n,socialMediaLinks:d,googleMap:u};l.socialMediaLinks=o,s.subsidiaryAddress&&(l.subsidiaryAddress=JSON.parse(s.subsidiaryAddress));let g=await a.findOne({address:r});if(g)return g.serviceEmail=i,g.address=r,g.contactNumber=n,g.socialMediaLinks=o,g.googleMap=u,await g.save(),t.status(200).send({status:!0,message:"Turtl Info updated"});let m=await a.create(l);return t.status(201).send({status:!0,message:"Turtl info added successfully",data:m})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getTurtlInfo:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No turtl info found"}):t.status(200).send({status:!0,data:e[0]})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},8053:(e,t,s)=>{const a=s(7499),{isValid:i,isValidObjectId:r,isValidRequestBody:n,isvalidEmail:d}=s(5484);e.exports={addTurtlSEO:async(e,t)=>{try{let s=e.body,{pageName:r,seoData:n}=s;return i(r)?await a.findOne({pageName:r})?t.status(400).send({status:!1,message:"This page SEO is already done, please try for different pages or edit this page SEO"}):(await a.create(s),t.status(201).send({status:!0,message:"Turtl SEO added"})):t.status(400).send({status:!1,message:"Page name is required"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getAllSEO:async(e,t)=>{try{let e=await a.find();return 0===e.length?t.status(404).send({status:!1,message:"No SEO name found"}):t.status(200).send({status:!0,data:e})}catch(e){return t.status(500).send({status:!1,message:e.message})}},updateTurtlSEOData:async(e,t)=>{try{let s=e.params.seoId;if(!r(s))return t.status(400).send({status:!1,message:"Invalid pageId, please enter a valid pageId"});let i=await a.findById(s);if(!i)return t.status(404).send({status:!1,message:"No page found with this page id"});let n=e.body;return"seoData"in n&&("pageTitle"in n.seoData&&(i.seoData.pageTitle=n.seoData.pageTitle),"pageDescription"in n.seoData&&(i.seoData.pageDescription=n.seoData.pageDescription),"pageKeywords"in n.seoData&&(i.seoData.pageKeywords=n.seoData.pageKeywords),"pageUrl"in n.seoData&&(i.seoData.pageUrl=n.seoData.pageUrl),"imageUrl"in n.seoData&&(i.seoData.imageUrl=n.seoData.imageUrl),"siteName"in n.seoData&&(i.seoData.siteName=n.seoData.siteName),"altImageText"in n.seoData&&(i.seoData.altImageText=n.seoData.altImageText),"imageHight"in n.seoData&&(i.seoData.imageHight=n.seoData.imageHight),"imageWidth"in n.seoData&&(i.seoData.imageWidth=n.seoData.imageWidth)),await i.save(),t.status(200).send({status:!0,message:"Page SEO data updated successfully"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getSEOByPageName:async(e,t)=>{try{let s=await a.findOne({pageName:e.params.pageName});return s?t.status(200).send({status:!0,data:s}):t.status(404).send({status:!1,message:"No Page found"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},3911:(e,t,s)=>{const a=s(6860),i=s(2167),r=s(8048),n=a(),d=s(3582);n.use(d()),e.exports={getURLCount:async(e,t)=>{try{let{domain:s}=e.body;const{data:a}=await i.get(s),n=r.load(a)("a").length;return t.status(200).send({status:!0,count:n})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},456:(e,t,s)=>{const a=s(2013),i=s(7489),r=s(9344),n=s(7096),{secretKey:d}=s(341),{isValidRequestBody:u,isValidObjectId:o,isValid:l,isValidName:g,isvalidEmail:m,isValidMoblie:c,isValidPassword:p}=s(5484),{Authentication:y,Authorization:f,getUserId:h,getUser:w}=s(3350);e.exports={addUser:async function(e,t){try{let s=e.body;if(!u(s))return t.status(400).send({status:!1,message:"Please enter data in body"});let{name:i,email:r,password:d,mobile:o,role:y,joiningDate:f}=s;if(!l(i))return t.status(400).send({status:!1,message:"Please enter the name"});if(!g(i))return t.status(400).send({status:!1,message:"Name should only contain alphabets"});if(!l(r))return t.status(400).send({status:!1,message:"Email-ID is required"});if(!m(r))return t.status(400).send({status:!1,message:"Invalid Email id. Ex: example12@gmail.com"});if(await a.findOne({email:r,isDeleted:!1}))return t.status(400).send({status:!1,message:"This email is already exists"});if(!c(o))return t.status(400).send({status:!1,message:"Invalid mobile number"});if(await a.findOne({mobile:o}))return t.status(400).send({status:!1,message:"This mobile is already exists"});if(!l(d))return t.status(400).send({status:!1,message:"password is required"});if(d.length<8||d.length>15)return t.status(400).send({status:!1,message:"Password must in between 8 to 15 characters"});if(!p(d))return t.status(400).send({status:!1,message:"Password must include atleast one special character[@$!%?&], one uppercase, one \n                lowercase, one number and should be mimimum 8 to 15 characters long for Example: Password@123"});if(d=await n.hash(d,10),!l(y))return t.status(400).send({status:!1,message:"role is required"});const h={name:i,email:r,password:d,mobile:o,role:y,joiningDate:f};let w=await a.create(h);return delete w.password,t.status(201).send({status:!0,message:"User added successfully",data:w})}catch(e){return t.status(500).send({status:!1,message:e.message})}},loginUser:async function(e,t){try{let s=e.body;const{email:o,password:g}=s;if(!u(s))return t.status(400).send({status:!1,message:"Body Should not be empty"});if(!l(o))return t.status(400).send({status:!1,message:"Email is required"});if(!m(o))return t.status(400).send({status:!1,message:"Please enter valid email"});if(!p(g))return t.status(400).send({status:!1,message:"Password must include atleast one special character[@$!%?&], one uppercase, one \n            lowercase, one number and should be mimimum 8 to 15 characters long for Example:Password@123"});if(!l(g))return t.status(400).send({status:!1,message:"Password is required"});let c,y,f=await i.findOne({email:o});if(f)c=f._id.toString();else{if(y=await a.findOne({email:o,isDeleted:!1}),!y)return t.status(401).send({status:!1,message:"Please use valid credentials"});c=y._id.toString()}n.compare(g,f?f.password:y.password,(function(e,s){!function(e){if(e){let e=r.sign({userId:f?f._id.toString():y._id.toString(),Application:"turtltechbackend",Author:"nirajkumar"},d,{expiresIn:"24h"});return t.setHeader("Authorization","Bearer",e),f?(f.password="",t.status(201).send({status:!0,message:"Successfully loggedin",userId:f._id,userInfo:f,authority:aurhorities.userAuthorities,token:e})):(y.password="","ADMIN"===y.role||y.authority.includes("HR")&&(appData1.permissionsList=permissionsList,appData1.employees=employees),t.status(201).send({status:!0,message:"Successfully loggedin",userId:y._id,userInfo:y,token:e}))}t.status(401).send({status:!1,message:"login denied"})}(s)}))}catch(e){return t.status(500).send({status:!1,message:e.message})}},createUser:async function(e,t){try{let s=e.body,i=await h(e.headers.authorization),r=await w(i);if("ADMIN"===r.userType){if(!u(s))return t.status(400).send({status:!1,message:"Please enter data in body"});let{name:e,email:i,password:d,gender:o,DOB:y,mobile:f,role:h,authority:w,joiningDate:S}=s;if(!l(e))return t.status(400).send({status:!1,message:"Please enter the name"});if(!g(e))return t.status(400).send({status:!1,message:"Name should only contain alphabets"});if(!l(i))return t.status(400).send({status:!1,message:"Email-ID is required"});if(!m(i))return t.status(400).send({status:!1,message:"Invalid Email id. Ex: example12@gmail.com"});if(await a.findOne({email:i,isDeleted:!1}))return t.status(400).send({status:!1,message:"This email is already exists"});if(!l(o))return t.status(400).send({status:!1,message:"Gender is required"});if(!l(y))return t.status(400).send({status:!1,message:"DOB is required"});if(!c(f))return t.status(400).send({status:!1,message:"Invalid mobile number"});if(await a.findOne({mobile:f,isDeleted:!1}))return t.status(400).send({status:!1,message:"This mobile is already exists"});if(!l(d))return t.status(400).send({status:!1,message:"password is required"});if(d.length<8||d.length>15)return t.status(400).send({status:!1,message:"Password must in between 8 to 15 characters"});if(!p(d))return t.status(400).send({status:!1,message:"Password must include atleast one special character[@$!%?&], one uppercase, one \n                  lowercase, one number and should be mimimum 8 to 15 characters long for Example: Password@123"});if(d=await n.hash(d,10),!l(h))return t.status(400).send({status:!1,message:"role is required"});const I={name:e,email:i,password:d,gender:o,DOB:y,mobile:f,role:h,authority:w,joiningDate:S};I.adminId=r.adminId,"ADMIN"===h&&(I.authority=[]);let b=await(await a.create(I)).populate("adminId");return b.password="",t.status(201).send({status:!0,message:"User added successfully",data:b})}return t.status(403).send({status:!1,message:"You are not authorize to add employees"})}catch(e){return t.status(500).send({status:!1,message:e.message})}},getEmpDetailsWithSalary:async(e,t)=>{try{let s=await h(e.headers.authorization),i=await w(s),r=await a.find({adminId:i.adminId,isDeleted:!1});return 0===r.length?t.status(404).send({status:!1,message:"No employee found with this admin id"}):t.status(200).send({status:!0,employeesData:r})}catch(e){return t.status(500).send({status:!1,message:e.message})}},updateUserById:async(e,t)=>{try{let s=e.params.id,i=await h(e.headers.authorization),r=await w(i);if(!o(s))return t.status(400).send({status:!1,message:"Invalid employee id, please enter"});let d=await a.findOne({_id:s,adminId:r.adminId,isDeleted:!1});if(!d)return t.status(404).send({status:!1,message:"No employee found"});let l=e.body;if(!u(l))return t.status(400).send({status:!1,message:"Please enter data in body"});if("name"in l&&""!==l.name&&(d.name=l.name),"email"in l&&""!==l.email&&(d.email=l.email),"password"in l&&""!==l.password){d.password=l.password;const e=await n.hash(password,10);password=e}return"gender"in l&&""!==l.gender&&(d.gender=l.gender),"DOB"in l&&""!==l.DOB&&(d.DOB=l.DOB),"mobile"in l&&""!==l.mobile&&(d.mobile=l.mobile),"role"in l&&""!==l.role&&(d.role=l.role),"authority"in l&&0!==l.authority.length&&(d.authority=l.authority),"joiningDate"in l&&""!==l.joiningDate&&(d.joiningDate=l.joiningDate),await d.save(),d.password="",t.status(200).send({status:!0,message:"Employee data updated",data:d})}catch(e){return t.status(500).send({status:!1,message:e.message})}},deleteUserById:async(e,t)=>{try{let s=e.params.id,i=await h(e.headers.authorization),r=await w(i);return o(s)?await a.findOneAndUpdate({_id:s,adminId:r.adminId,isDeleted:!1},{isDeleted:!0,deletedAt:new Date},{new:!0})?t.status(200).send({status:!0,message:"Employee deleted successfully"}):t.status(404).send({status:!1,message:"Employee not found or already deleted"}):t.status(400).send({status:!1,message:"Invalid employee id"})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},8170:(e,t,s)=>{const a=s(2182),i=s(7096),{isValid:r,isValidObjectId:n,isValidRequestBody:d,isvalidEmail:u}=(s(3511),s(5484)),{imageMV:o}=s(6087);e.exports={addBlogVisitors:async(e,t)=>{try{let s=e.body,n=e.files,{name:d,email:l,password:g,sub:m,picture:c}=s;if(!r(d))return t.status.send({status:!1,message:"Visitor name is required"});if(!r(l))return t.status.send({status:!1,message:"Visitor email is required"});if(!u(l))return t.status.send({status:!1,message:"Invalid email, please enter a valid email"});if(await a.findOne({email:l}))return t.status.send({status:!1,message:"Duplicate email, please enter a unique email"});g=await i.hash(g,10);let p={name:d,email:l,password:g,sub:m,picture:c};p.picture=await o(n.picture,"blogImages");let y=await a.create(p);return t.status(201).send({status:!0,message:"Visitor added",data:y})}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},6087:(e,t,s)=>{const{v4:a}=s(5828),i=s(6231);e.exports={imageMV:async(e,t)=>{const s=`./public/uploads/${t}/`;i.mkdirSync(s,{recursive:!0});let r=a()+"_";return await e.mv(s+r+e.name),`/${t}/${r}${e.name}`}}},3350:(e,t,s)=>{const a=s(7489),i=(s(8207),s(9344)),{isValidObjectId:r}=s(5484),{secretKey:n,tokenSecretKey:d}=s(341);e.exports={Authentication:async function(e,t,s){try{let a=e.headers.authorization;if(!a)return t.status(400).send({status:!1,message:"token is required"});let r,n=a.split(" ")[1];if(!n)return t.status(404).send({status:!1,message:"Invalid Token"});i.verify(n,d,((a,i)=>{if(a)return t.status(401).send({status:!1,message:a.message});{r=i;let t=r.adminId||r.userId;e.adminId=t,s()}}))}catch(e){return t.status(500).send({status:!1,message:e.message})}},getUserId:async e=>{if(!e)return res.status(400).send({status:!1,message:"token is required"});let t,s,a=e.split(" ")[1];return a?(i.verify(a,n,((e,a)=>{if(e)return res.status(401).send({status:!1,message:e.message});s=a,t=s.userId})),t):res.status(404).send({status:!1,message:"Invalid Token"})},getUser:async e=>{let t=await a.findById(e);if(t)return{adminId:t._id.toString()}},Authorization:async function(e,t,s){try{let i=e.userId;if(!r(i))return t.status(400).send({status:!1,message:`This Admin Id => ${i}, is invalid`});if(!await a.findOne({_id:i}))return t.status(404).send({status:!1,message:"Admin not found"});s()}catch(e){return t.status(500).send({status:!1,message:e.message})}}}},341:(e,t,s)=>{s(5142).config(),e.exports={secretKey:process.env.SECRET_KEY,mongoDbUrl:process.env.MONGO_DB_URI,tokenSecretKey:process.env.TOKEN_SECRET_KEY,port:process.env.PORT,firebaseApiKey:process.env.FIREBASE_API_KEY,firebaseAuthDomain:process.env.FIREBASE_AUTH_DOMAIN,firebaseProjectId:process.env.FIREBASE_PROJECT_ID,firebaseStorageBucket:process.env.FIREBASE_STORAGE_BUCKET,firebaseMessagingSenderId:process.env.FIREBASE_MESSAGING_SENDER_ID,firebaseAppId:process.env.FIREBASE_APP_ID}},6752:(e,t,s)=>{const a=s(5142),{firebaseApiKey:i,firebaseAuthDomain:r,firebaseProjectId:n,firebaseStorageBucket:d,firebaseMessagingSenderId:u,firebaseAppId:o}=s(341);a.config();const l={apiKey:i,authDomain:r,projectId:n,storageBucket:d,messagingSenderId:u,appId:o};e.exports={firebaseConfig:l}},7489:(e,t,s)=>{const a=s(1185);let i=new a.Schema({userKey:{type:String},name:{type:String,required:!0,trim:!0},email:{type:String,unique:!0,required:!0,trim:!0},password:{type:String,min:8,max:15,required:!0},role:{type:String,required:!0,trim:!0}},{timestamps:!0});e.exports=a.model("Admin",i)},8207:(e,t,s)=>{const a=s(1185),i=s(3673),r=a.Schema.Types.ObjectId,n=new a.Schema({authorId:{type:r,ref:"Author"},blogUID:{type:String},blogViews:{type:Number,default:0},blogTitle:{type:String,required:!0},coverImg:{imageUrl:{type:String},altText:{type:String}},markdown:{type:String},slug:{type:String,required:!0,unique:!0},description:{type:String,required:!0},sections:[],quote:{text:{type:String},quoteAuthor:{type:String}},blogFooter:{content:{type:String},message:{type:String},blogAuthor:{type:r,ref:"Author"}},tags:[{type:String}],publishedAt:{type:Date,default:null},isPublished:{type:Boolean,default:!1},likes:{type:r,ref:"Like"},seoData:{pageTitle:{type:String},pageDescription:{type:String},pageKeywords:{type:String},pageUrl:{type:String},imageUrl:{type:String},siteName:{type:String},altImageText:{type:String},imageHight:{type:String},imageWidth:{type:String}}},{timestamps:!0});n.pre("validate",(function(e){if(this.blogTitle){let e=this.blogTitle+" "+this.blogUID;this.slug=i(e,{lower:!0,strict:!0})}e()})),e.exports=a.model("Blog",n)},5169:(e,t,s)=>{const a=s(1185);let i=new a.Schema({title:{type:String},image:{type:String}},{timestamps:!0});e.exports=a.model("Certificate",i)},7848:(e,t,s)=>{const a=s(1185);let i=new a.Schema({title:{type:String},images:[{type:String}],story:{type:String}},{timestamps:!0});e.exports=a.model("Event",i)},8686:(e,t,s)=>{const a=s(1185),i=(a.Schema.Types.ObjectId,new a.Schema({imageUrl:{type:String,required:!0},imgField:{type:String}},{timestamps:!0}));e.exports=a.model("Image",i)},3034:(e,t,s)=>{const a=s(1185),i=a.Schema.Types.ObjectId,r=new a.Schema({blogId:{type:i,ref:"Blog"},visitorId:{type:i,ref:"Visitor"},like:{type:Number,default:0,required:!0},love:{type:Number,default:0,required:!0},haha:{type:Number,default:0,required:!0},wow:{type:Number,default:0,required:!0},angry:{type:Number,default:0,required:!0},fire:{type:Number,default:0,required:!0}},{timestamps:!0});e.exports=a.model("Like",r)},572:(e,t,s)=>{const a=s(1185);let i=new a.Schema({pageName:{type:String},imageUrl:{type:String},altText:{type:String}},{timestamps:!0});e.exports=a.model("PageImage",i)},7107:(e,t,s)=>{const a=s(1185),i=s(3673),r=(a.Schema.Types.ObjectId,new a.Schema({coverImage:{coverImgUrl:{type:String},coverImgAlt:{type:String}},title:{type:String},description:{type:String,required:!0},content:{type:String},portfolioViews:{type:Number,default:0},portfolioUID:{type:String},portfolioField:{type:String},categoryTitle:{type:String},slug:{type:String,unique:!0,required:!0},tags:[{type:String}],seoData:{pageTitle:{type:String},pageDescription:{type:String},pageKeywords:{type:String},pageUrl:{type:String},imageUrl:{type:String},siteName:{type:String},altImageText:{type:String},imageHight:{type:String},imageWidth:{type:String}}},{timestamps:!0}));r.pre("validate",(function(e){if(this.title){let e=this.title+" "+this.portfolioUID;this.slug=i(e,{lower:!0,strict:!0})}e()})),e.exports=a.model("Portfolio",r)},8106:(e,t,s)=>{const a=s(1185),i=(a.Schema.Types.ObjectId,s(3673)),r=new a.Schema({title:{type:String,unique:!0,required:!0},categoryIcon:{iconUrl:{type:String},iconAlt:{type:String}},description:{type:String},content:{type:String},slug:{type:String,unique:!0,required:!0},tags:[{type:String}],seoData:{pageTitle:{type:String},pageDescription:{type:String},pageKeywords:{type:String},pageUrl:{type:String},imageUrl:{type:String},siteName:{type:String},altImageText:{type:String},imageHight:{type:String},imageWidth:{type:String}}},{timestamps:!0});r.pre("validate",(function(e){this.title&&(this.slug=i(this.title,{lower:!0,strict:!0})),e()})),e.exports=a.model("ServiceCategory",r)},5657:(e,t,s)=>{const a=s(1185),i=(a.Schema.Types.ObjectId,new a.Schema({title:{type:String},description:{type:String},imgUrl:{type:String}},{timestamps:!0}));e.exports=a.model("Service",i)},9607:(e,t,s)=>{const a=s(1185);let i=new a.Schema({name:{type:String},designation:{type:String},story:{type:String},rating:{type:Number},image:{type:String}},{timestamps:!0});e.exports=a.model("Testimonial",i)},4857:(e,t,s)=>{const a=s(1185),i=new a.Schema({category:{type:String},question:{type:String},answer:{type:String}},{timestamps:!0});e.exports=a.model("FAQ",i)},9846:(e,t,s)=>{const a=s(1185);let i=new a.Schema({serviceEmail:{type:String,unique:!0},address:{type:String},contactNumber:[{type:String}],socialMediaLinks:[{types:{type:String},url:{type:String}}],subsidiaryAddress:[{city:{type:String},state:{type:String},country:{type:String},address:{type:String}}],googleMap:{type:String}},{timestamps:!0});e.exports=a.model("TurtlInfo",i)},7499:(e,t,s)=>{const a=s(1185),i=new a.Schema({pageName:{type:String},seoData:{pageTitle:{type:String},pageDescription:{type:String},pageKeywords:{type:String},pageUrl:{type:String},imageUrl:{type:String},siteName:{type:String},altImageText:{type:String},imageHight:{type:String},imageWidth:{type:String}}},{timestamps:!0});e.exports=a.model("TurtlSEO",i)},2013:(e,t,s)=>{const a=s(1185),i=a.Schema.Types.ObjectId;let r=new a.Schema({name:{type:String,required:!0,trim:!0},email:{type:String,required:!0,unique:!0,trim:!0},password:{type:String,required:!0,trim:!0},mobile:{type:Number,required:!0,trim:!0},adminId:{type:i,ref:"Admin"},role:{type:String,required:!0,trim:!0},authority:{type:[String]},joiningDate:{type:Date},deletedAt:{type:Date,default:null},isDeleted:{type:Boolean,default:!1}},{timestamps:!0});e.exports=a.model("User",r)},2182:(e,t,s)=>{const a=s(1185),i=(a.Schema.Types.ObjectId,new a.Schema({name:{type:String,required:!0,trim:!0},email:{type:String,required:!0,unique:!0,trim:!0},password:{type:String},sub:{type:String},image:{imageUrl:{type:String},altText:{type:String}}}));e.exports=a.model("Visitor",i)},7520:(e,t,s)=>{const a=s(6860),i=(a(),a.Router()),r=s(5950),n=s(456),d=s(7891),u=s(1125),o=s(8913),l=s(7302),g=s(8170),m=s(826),c=s(9828),p=s(5883),y=s(7444),f=s(4468),h=s(330),w=s(8053),S=s(6954),I=s(5837),b=s(864),v=s(3911),D=s(9519),x=s(6757),{Authentication:q,Authorization:A}=s(3350);i.post("/admin",r.createAdmin),i.post("/login",r.loginAdmin),i.post("/user",q,n.addUser),i.post("/loginUser",n.loginUser),i.post("/likes",l.addBlogLikesById),i.post("/like",l.addBlogLikes),i.get("/likes/:id",l.getAllLikes),i.put("/likes/:id",l.incBlogLikesById),i.post("/visitor",g.addBlogVisitors),i.post("/blog",q,d.createBlog),i.get("/blogs",d.getBlogs),i.get("/blog/:slug",d.getBlogByParams),i.put("/blog/:blogId",q,d.updateBlogById),i.delete("/blog/:blogId",q,d.deleteBlogById),i.post("/imageupload",q,o.uploadImagefn),i.get("/images",o.getAllImages),i.post("/service",q,u.addService),i.get("/services",u.getAllServices),i.put("/service/:secId",q,u.updateServiceSection),i.delete("/service/:secId",q,u.deleteServiceSection),i.post("/testimonial",q,m.addTestimonial),i.get("/testimonials",m.getAllTestimonials),i.post("/portfolio",q,c.addPortfolio),i.get("/portfolios",c.getAllPortfoios),i.get("/services/:slug",c.getPortfolioByParams),i.get("/services/portfolios/:field",c.getPortfolioByField),i.post("/certificate",q,p.addCertificate),i.get("/certificates",p.getAllCertificates),i.post("/info",q,y.addTurtlInfo),i.get("/turtlinfo",y.getTurtlInfo),i.post("/event",q,f.addEvent),i.get("/events",f.getAllEvents),i.post("/pageimages",q,h.addPageImages),i.get("/allpageimages",h.getAllPageImages),i.get("/pageimage/:pageName",h.getImageByPageName),i.post("/turtlseo",q,w.addTurtlSEO),i.get("/getallseos",w.getAllSEO),i.get("/turtlseo/:pageName",w.getSEOByPageName),i.put("/turtlseo/:seoId",q,w.updateTurtlSEOData),i.post("/contactus",q,S.addContactUsDetails),i.post("/turtlfaq",q,I.addFAQ),i.get("/turtlfaqs",I.getAllFAQs),i.put("/turtlfaq/:faqId",q,I.updateFAQById),i.post("/servicecategory",q,b.addServiceCategory),i.get("/servicecategories",b.getAllServiceCategories),i.get("/servicecategory/:slug",b.getServiceCategorBySlug),i.post("/urlcount",v.getURLCount),i.post("/addpayment",q,D.addPayment),i.get("/getpayment",D.getPayment),i.post("/upload",x.uploadImage),e.exports=i},5484:(e,t,s)=>{const a=s(1185).Types.ObjectId;e.exports={isValidRequestBody:e=>Object.keys(e).length>0,isValidObjectId:e=>!!a.isValid(e),isValid:e=>void 0!==e&&null!==typeof e&&("string"!=typeof e||0!=e.trim().length),isValidName:function(e){return/^[A-Za-z\s]{1,}[A-Za-z\s]{0,}$/.test(e)},isvalidEmail:function(e){return/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/.test(e)},isValidPassword:function(e){return/^[a-zA-Z0-9*@]{12,25}$/.test(e)},isValidMoblie:function(e){return/^(?:(?:\+|0{0,2})91(\s*|[\-])?|[0]?)?([6789]\d{2}([-]?)\d{3}([-]?)\d{4})$/.test(e)},isValidGST:function(e){return/\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z\d]{1}[Z]{1}[A-Z\d]{1}/.test(e)},isValidImg:e=>/image\/png|image\/jpeg|image\/jpg/.test(e)}},2167:e=>{"use strict";e.exports=require("axios")},7096:e=>{"use strict";e.exports=require("bcrypt")},3986:e=>{"use strict";e.exports=require("body-parser")},8048:e=>{"use strict";e.exports=require("cheerio")},3582:e=>{"use strict";e.exports=require("cors")},5142:e=>{"use strict";e.exports=require("dotenv")},6860:e=>{"use strict";e.exports=require("express")},6674:e=>{"use strict";e.exports=require("express-fileupload")},4324:e=>{"use strict";e.exports=require("firebase/app")},1668:e=>{"use strict";e.exports=require("firebase/storage")},6231:e=>{"use strict";e.exports=require("fs")},7806:e=>{"use strict";e.exports=require("helmet")},9344:e=>{"use strict";e.exports=require("jsonwebtoken")},1185:e=>{"use strict";e.exports=require("mongoose")},5184:e=>{"use strict";e.exports=require("nodemailer")},3511:e=>{"use strict";e.exports=require("passport")},813:e=>{"use strict";e.exports=require("paypal-rest-sdk")},3673:e=>{"use strict";e.exports=require("slugify")},5828:e=>{"use strict";e.exports=require("uuid")},1017:e=>{"use strict";e.exports=require("path")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}(()=>{const e=s(6860),t=s(1185),a=s(3986),i=(s(7806),s(7520)),r=s(6674),n=s(3582),{port:d,mongoDbUrl:u}=(s(3511),s(341)),o=e();o.use(e.json()),o.use(e.urlencoded({extended:!0})),o.use(a.json()),o.use(r()),o.use(n()),o.use("/",e.static("public/uploads")),t.connect(u,{useNewUrlParser:!0}).then((()=>console.log("Connected with Database"))).catch((e=>console.log(e))),o.use("/",i),o.get("/",((e,t)=>{t.send("<h1>Welcome to TurtlTech</h1>")})),o.listen(d,(()=>console.log("App is running on port",d)))})()})();
//# sourceMappingURL=index.js.map